{"version":3,"sources":["components/common/FollowBtn.js","components/Vacations.js","components/admin/Statistic.js","redux/actions.js","components/Login.js","components/Register.js","components/admin/EditModal.js","components/admin/VacationRow.js","components/Header.js","components/admin/AddModal.js","components/admin/Admin.js","components/common/Vacation.js","components/common/Main.js","App.js","serviceWorker.js","redux/reducer.js","index.js"],"names":["that","setVacations","vacations","type","data","followVacation","id","unfollowVacation","Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","currentUser","firstName","lastName","followedVacations","isAdmin","state","username","password","sumbitted","msg","logged","adminLog","getChangedValue","bind","assertThisInitialized","handleSubmit","checkAndLogin","logOut","event","setState","defineProperty","target","name","value","e","preventDefault","objectSpread","_this2","user","fetch","method","headers","Accept","Content-Type","body","JSON","stringify","then","json","found","login","catch","err","userObj","_this3","logIn","newState","react_default","a","createElement","Redirect","to","reactstrap_es","sm","md","size","offset","className","addonType","invalid","placeholder","onChange","tooltip","required","color","onClick","Link","Component","connect","dispatch","Register","registered","register","validiateUsername","console","log","keys","length","BrowserRouter","onBlur","disabled","EditModal","destination","description","startDate","endDate","cost","img","validForm","errorMsg","sendNewVacation","vacation","errors","push","join","validateForm","edit","date","substring","isOpen","modal","toggle","VacationRow","deleteVacation","updateVacation","delete","newVacationObj","update","vac","scope","index","style","fontSize","admin_EditModal","Header","logout","loggingOut","light","expand","navbar","header","AddModal","addAVacation","added","addVacation","addModal","socket","openSocket","Admin","toStats","getVacations","on","response","setVacationsDates","specVacationID","_this4","concat","window","confirm","newVacObj","_this5","_this6","map","key","components_admin_VacationRow","getVacation","_this7","vacationArr","i","cutDateInfo","components_Header","setLogged","stats","moveToStats","drawControllTable","allVacations","admin_AddModal","admin","FollowBtn","checked","isFollowed","addFollow","decFollow","handleChange","sendObj","vacationid","parentNode","userid","react_switch_default","offColor","onColor","uncheckedIcon","checkedIcon","boxShadow","activeBoxShadow","followBtn","vacationID","Vacation","followd","followClicked","unvac","unvacation","width","height","src","alt","following","common_FollowBtn","followedArr","Vacations","followed","unfollowed","userId","finishLoading","forEach","followedObj","followers","sortVacations","follows","stateCopy","history","vacay","common_Vacation","Chart","require","Statistic","followedArray","ctx","document","getElementById","labels","datasets","backgroundColor","borderColor","borderWidth","options","legend","scales","yAxes","ticks","beginAtZero","position","statistic","createBrowserHistory","Main","Router","Switch","Route","path","component","exact","App","common_Main","Boolean","location","hostname","match","initialState","vacationReducer","arguments","undefined","action","assign","splice","store","createStore","ReactDOM","render","es","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d33358d5.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Switch from 'react-switch';\r\nimport { connect } from 'react-redux';\r\nimport { followVacation, unfollowVacation } from '../../redux/actions';\r\n\r\n\r\nvar that;\r\nclass FollowBtn extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = { checked: this.props.isFollowed }; // react switch\r\n        this.addFollow=this.addFollow.bind(this);\r\n        this.decFollow=this.decFollow.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n        that=this;\r\n    }\r\n\r\n    handleChange(checked,e) { // react switch\r\n        if(checked)\r\n            that.addFollow(e);\r\n        else\r\n            that.decFollow(e);\r\n        debugger;\r\n        this.setState({ checked });\r\n      }\r\n\r\n    addFollow(e){\r\n        const cardId=e.target.parentNode.parentNode.parentNode.id;\r\n        const sendObj={ vacationid:cardId,\r\n                        userid:this.props.currentUser.id };\r\n        fetch('http://localhost:3000/vacations/addfollow',{\r\n            method:'POST',\r\n            headers:{   'Accept': 'application/json',\r\n                        'Content-Type': 'application/json'},\r\n            body:JSON.stringify(sendObj)\r\n        }).then(data=>  {\r\n            debugger;\r\n            that.props.followVacation(sendObj.vacationid);\r\n        }) \r\n        .catch(err=>err);\r\n    }\r\n\r\n    decFollow(e){\r\n        const cardId=e.target.parentNode.parentNode.parentNode.id;\r\n        const sendObj={ vacationid:cardId,\r\n            userid:this.props.currentUser.id };\r\n            debugger;\r\n        fetch('http://localhost:3000/vacations/deletefollow',{\r\n            method:'DELETE',\r\n            headers:{   'Accept': 'application/json',\r\n                        'Content-Type': 'application/json'},\r\n            body:JSON.stringify(sendObj)\r\n        }).then(data=> {\r\n            that.props.unfollowVacation(sendObj.vacationid);\r\n        })\r\n        .catch(err=>err);\r\n    }\r\n\r\n    ifFollowe(){\r\n        // function that will check if the current vacation is in the followed arr.\r\n    }\r\n    \r\n  render() {\r\n    return (\r\n        <Switch\r\n            onChange={this.handleChange}\r\n            checked={this.state.checked}\r\n            offColor={'#e6e6e6'}\r\n            onColor={'#0086b3'}\r\n            uncheckedIcon={false}\r\n            checkedIcon={false}\r\n            boxShadow={'1px 1px 1px 1px'}\r\n            activeBoxShadow={'0 0 2px 3px #3bf'}\r\n            />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n    return  { currentUser : state.currentUser }; \r\n}\r\nconst mapDispatchToProps = dispatch =>{\r\n    const followingActions={\r\n      followVacation:(vacationID)=> dispatch (followVacation(vacationID)),\r\n      unfollowVacation:(vacationID)=> dispatch (unfollowVacation(vacationID))\r\n    }\r\n    return followingActions;\r\n  }\r\nconst followBtn= connect(mapStateToProps, mapDispatchToProps)(FollowBtn);\r\n\r\nexport default followBtn;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport Vacation from './common/Vacation';\r\nimport { setVacations, followVacation, unfollowVacation } from '../redux/actions';\r\nimport openSocket from 'socket.io-client';\r\n\r\n\r\n\r\nvar that;\r\nclass Vacations extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      followed:[],\r\n      unfollowed:[],\r\n    }\r\n    that=this;\r\n  }\r\n\r\n   componentDidMount(){ //Load vacations and sort them\r\n    this.getVacations();\r\n    this.socket= openSocket('http://localhost:3008');\r\n    this.socket.on('UPDATE_VACATIONS',()=>{ \r\n      this.setState({...this.state,followed:[],unfollowed:[]});\r\n      this.getVacations()});\r\n  }\r\n\r\n//functions to sort the vacations array\r\n  getVacations(){\r\n    const userId=this.props.currentUser.id;\r\n    if (userId) {\r\n    fetch('http://localhost:3000/vacations',{\r\n      method:'POST',\r\n      headers:{   'Accept': 'application/json',\r\n                  'Content-Type': 'application/json'},\r\n      body:JSON.stringify({userid:userId})\r\n    }).then(response=>response.json())\r\n      .then(data=>{\r\n          //The array of all the vactions\r\n          this.finishLoading(data);    \r\n        }).catch(err=>err);\r\n  }\r\n}\r\n\r\ncutDateInfo(date){  //return 10 first digits\r\n  if(date.length > 10)\r\n    return date.substring(0,10); \r\n  else \r\n    return date; \r\n}\r\n\r\nfinishLoading(vacationArr){\r\n  fetch('http://localhost:3000/vacations/allfollowers',{method:'GET'})  // Array of all followed vacations\r\n  .then(response=>response.json()).then(followedArr=>{\r\n    followedArr.forEach(followedObj=>{\r\n      for(let i=0; i<vacationArr.length;i++)\r\n      {\r\n        if(followedObj.vacationid === vacationArr[i].id){\r\n          vacationArr[i].following=followedObj.followers;}\r\n      }\r\n    })\r\n    this.sortVacations(vacationArr);\r\n    this.props.setVacations(vacationArr); \r\n  }).catch(err=>err);\r\n\r\n}\r\n\r\nsortVacations(vacationArr){\r\n    let newState  = {...this.state};\r\n    for(let i=0;i<vacationArr.length;i++)\r\n    {\r\n      vacationArr[i].startDate=that.cutDateInfo(vacationArr[i].startDate); \r\n      vacationArr[i].endDate=that.cutDateInfo(vacationArr[i].endDate);              \r\n      if(vacationArr[i].follows === 1) \r\n        newState.followed.push(vacationArr[i]);\r\n      else\r\n        newState.unfollowed.push(vacationArr[i]);\r\n    }\r\n  }\r\n\r\n  setLogged(){\r\n    // the header COmponent will change this.logged and redirect to login\r\n    fetch('http://localhost:3000/logout',{method: \"GET\" })\r\n    .then(response => response.json()).then(data=>{\r\n        let stateCopy={...this.state, data};\r\n        this.setState(stateCopy);\r\n    }).catch(err=>err);\r\n    this.props.history.push(\"/login\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div >\r\n        <Header currentUser={this.props.currentUser}  loggingOut={this.setLogged.bind(this)}/>\r\n          {/* followed Vacations */}\r\n          <div className=\"row\">\r\n          {\r\n            this.state.followed.map((vacay,key)=>\r\n            <Vacation vacation={vacay} key={key} isFollowed={true} followedArr={this.state.followed}/>\r\n          )}\r\n          </div>\r\n          <br/>\r\n          <div className=\"row\">\r\n          {/* Unfollowed Vacations */}\r\n          { \r\n            this.state.unfollowed.map((vacay,key)=>\r\n            <Vacation unvacation={vacay} key={key} isFollowed={false} followedArr={this.state.followed}/>\r\n          )}\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps= state =>{\r\n\r\n  return  { allVacations:state.allVacations,\r\n            currentUser:state.currentUser };\r\n}\r\nconst mapDispatchToProps= dispatch =>{\r\n  const setVacationsAction={\r\n    setVacations:(vacations)=> dispatch( setVacations(vacations) ),\r\n    followVacation:(vacationID)=> dispatch (followVacation(vacationID)),\r\n    unfollowVacation:(vacationID)=> dispatch (unfollowVacation(vacationID))\r\n  }\r\n  return setVacationsAction;\r\n}\r\nconst vacations=connect(mapStateToProps,mapDispatchToProps)(Vacations);\r\n\r\nexport default vacations;\r\n","import React, { Component } from 'react';\r\nimport {Collapse ,Navbar ,NavbarToggler ,NavbarBrand ,Nav ,NavItem ,NavLink, Button} from 'reactstrap';\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\nvar Chart=require('chart.js');\r\n\r\nvar that;\r\nclass Statistic extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state= {followedVacations:[]};\r\n        that=this;\r\n    }\r\n\r\ncomponentDidMount()\r\n    {\r\n        if(this.props.currentUser.isAdmin)\r\n        {\r\n        fetch('http://localhost:3000/admin/statistic',{\r\n            method:\"GET\"}).then(data=>data.json())\r\n            .then(followedArray=>{\r\n                this.setState({...this.state, followedVacations:followedArray});\r\n                debugger;\r\n\r\n        var ctx = document.getElementById(\"myChart\");\r\n        var myChart = new Chart(ctx, {\r\n            type: 'bar',\r\n            data: {\r\n                labels: that.state.followedVacations.map(vacay=>vacay.destination),\r\n                datasets: [{\r\n                    data: that.state.followedVacations.map(vacay=>vacay.followers),\r\n                    backgroundColor: [\r\n                        'rgba(255, 99, 132, 0.2)',\r\n                        'rgba(54, 162, 235, 0.2)',\r\n                        'rgba(255, 206, 86, 0.2)',\r\n                        'rgba(75, 192, 192, 0.2)',\r\n                        'rgba(153, 102, 255, 0.2)',\r\n                        'rgba(255, 159, 64, 0.2)'\r\n                    ],\r\n                    borderColor: [\r\n                        'rgba(255,99,132,1)',\r\n                        'rgba(54, 162, 235, 1)',\r\n                        'rgba(255, 206, 86, 1)',\r\n                        'rgba(75, 192, 192, 1)',\r\n                        'rgba(153, 102, 255, 1)',\r\n                        'rgba(255, 159, 64, 1)'\r\n                    ],\r\n                    borderWidth: 1\r\n                }]\r\n            },\r\n            options: {\r\n                legend:false,\r\n                scales: {\r\n                    yAxes: [{\r\n                        ticks: {\r\n                            beginAtZero:true\r\n                        }\r\n                    }]\r\n                }\r\n            }\r\n        });\r\n    });\r\n    }\r\n}\r\n\r\n \r\n  render() {\r\n    return (\r\n        <div>\r\n            <div>\r\n            <Navbar color={this.props.currentUser.isAdmin ? \"dark\":\"light\"} expand=\"sm\">\r\n                <NavbarBrand style={{color:\"blue\"}}> Vacations </NavbarBrand>\r\n                <NavbarToggler /> \r\n                <Collapse navbar>\r\n                <Nav className=\"ml-auto\" navbar>\r\n                    <NavItem>\r\n                    <NavLink style={{color:\"blue\"}}>Hello {this.props.currentUser.firstName}</NavLink>\r\n                    </NavItem>\r\n                    <NavItem>\r\n                        <Button color=\"link\"><Link to=\"/admin\"> Back > </Link></Button>\r\n                    </NavItem>\r\n                </Nav>\r\n                </Collapse>\r\n            </Navbar>\r\n            </div>\r\n            <div className=\"chart-container\" style={{position: 'relative', height:'15vh', width:'40vw'}}>\r\n                <canvas id=\"myChart\" width=\"400\" height=\"400\"></canvas>\r\n            </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps= state =>{\r\n\r\n    return  {  currentUser:state.currentUser };\r\n  }\r\n\r\nconst statistic=connect(mapStateToProps)(Statistic);    \r\n\r\n\r\nexport default statistic;\r\n","export const logIn=userObj=>({type:\"LOGIN\",data:userObj});//all users\r\nexport const logOut=()=>({type:\"LOGOUT\"});//all users\r\nexport const addVacation=vacObj=>({type:\"ADD\",data:vacObj}); //admin\r\nexport const editVacation=newVacObj=>({type:\"EDIT\",data:newVacObj}); //admin\r\nexport const deleteVacation=id=>({type:\"DELETE\",data:id});//admin\r\nexport const setVacations=vacations=>({type:\"SET\",data:vacations}); \r\nexport const followVacation=id=>({type:\"FOLLOW\", data:id});//users\r\nexport const unfollowVacation=id=>({type:\"UNFOLLOW\", data:id});//users","import React, { Component } from 'react';\r\nimport {Col,Button, Input,InputGroupAddon, FormFeedback,InputGroup,Jumbotron} from 'reactstrap';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { logIn, logOut } from '../redux/actions';\r\n\r\n// import {socket } from 'socket.io';\r\n\r\nimport './Login.css';\r\n\r\nvar that;\r\nclass Login extends Component {\r\n\r\n    currentUser={ \r\n        firstName:\"\",\r\n        lastName:\"\",\r\n        id:\"\",\r\n        followedVacations:[],\r\n        isAdmin:false\r\n    };\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state={username:\"\",password:\"\",\r\n                    sumbitted:false, msg:\"\",logged:false, adminLog:false};        \r\n        \r\n        this.getChangedValue=this.getChangedValue.bind(this);\r\n        this.handleSubmit=this.handleSubmit.bind(this);\r\n        this.checkAndLogin=this.checkAndLogin.bind(this);\r\n        this.props.logOut();\r\n        that=this;\r\n    }\r\n\r\n// // IN build- we will use this function to redirect\r\n//     componentWillMount(){\r\n//         fetch('http://localhost:3000/',{method:\"GET\"})\r\n//         .then(resp=>resp.json()).then(answer=>{\r\n//             if(answer != 0){\r\n//                 if(answer.isAdmin)\r\n//                     that.setState({...that.state, adminLog:true});\r\n//                 else\r\n//                     that.setState({...this.state, logged:true});\r\n//             }\r\n//         })\r\n//     }\r\n\r\n    getChangedValue(event){\r\n        this.setState({[event.target.name]:event.target.value});\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        // this.setState(Object.assign({},this.state,{sumbitted:true}));\r\n        let user={username:this.state.username, password:this.state.password};\r\n        if (this.state.username !=\"\" || this.state.password !=\"\") {\r\n            this.checkAndLogin();\r\n        }\r\n        else\r\n            this.setState({...this.state, msg:\"Empty Inputs\"});\r\n    }\r\n\r\n    checkAndLogin(){\r\n        //Check if exist Part\r\n        let user={username:this.state.username, password:this.state.password};\r\n\r\n        fetch('http://localhost:3000/checkexist',{\r\n            method:'POST',\r\n            headers:{ 'Accept': 'application/json',\r\n                'Content-Type': 'application/json'},\r\n            //Only For Practice, must be removed after NPM BUILD\r\n            body:JSON.stringify({username:this.state.username})})\r\n            .then(data=>data.json())\r\n            .then(found =>{\r\n                if(found != {})\r\n                    this.login(user);\r\n                else\r\n                    this.setState({...this.state, msg : \"Missing Password or Username\" });\r\n            }).catch(err=>err);\r\n}\r\n\r\nlogin(userObj){//Log in part\r\n\r\n     fetch('http://localhost:3000/login',{\r\n        method:'POST',\r\n        headers:{ 'Accept': 'application/json',\r\n            'Content-Type': 'application/json'},\r\n        body:JSON.stringify(userObj)})\r\n        .then(data=> data.json()).then( user=>{\r\n                this.currentUser.firstName=user.firstName;\r\n                this.currentUser.lastName=user.lastName;\r\n                this.currentUser.isAdmin=user.isAdmin;\r\n                this.currentUser.id=user.id;\r\n            //Handeled when loggedin\r\n            this.props.logIn(this.currentUser);\r\n            this.setState({...this.state, logged:true});\r\n        }).catch(err=>{\r\n            const newState={...this.state, msg:\"Wrong Username Or missing Info\",logged:false};\r\n            this.setState(newState);\r\n        });\r\n}\r\n\r\n  render() {\r\n      \r\n    return (\r\n        <div>\r\n            {/* {this.state.adminLog && <Redirect to='/admin'/>}\r\n            {this.state.logged && <Redirect to='/vacations'/>} */}\r\n            {this.state.logged ? \r\n                (this.props.currentUser.isAdmin ? <Redirect to='/admin'/> :< Redirect to='/vacations'/>) :null }\r\n            <Col sm=\"12\" md={{ size: 6, offset: 3 }} >\r\n            <Jumbotron>\r\n                <h1 className=\"text-center\">Log In</h1>\r\n                <form>\r\n                    <br/>\r\n                    <InputGroup>\r\n                        <InputGroupAddon addonType=\"prepend\">Username </InputGroupAddon>\r\n                        <Input invalid={this.state.msg != \"\"} type=\"text\" name=\"username\" value={this.state.username} placeholder=\"Username\" onChange={this.getChangedValue} />\r\n                        <FormFeedback tooltip>{this.state.msg}</FormFeedback>\r\n                    </InputGroup>\r\n                    <br/>\r\n                    <InputGroup>\r\n                        <InputGroupAddon addonType=\"prepend\">Password </InputGroupAddon>\r\n                        <Input required type=\"password\" name=\"password\" value={this.state.password} placeholder=\"Password\" onChange={this.getChangedValue}/>\r\n                    </InputGroup>\r\n                    <br/>\r\n                    <Button type=\"button\" color=\"primary\" className=\"float-right\" onClick={this.handleSubmit}>Log In</Button>\r\n                    <Link to=\"/register\" className=\"btn btn-link\">  Not a Member ?</Link>\r\n                </form>\r\n            </Jumbotron>\r\n        </Col>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps= state =>{\r\n    return  { \r\n        currentUser:state.currentUser\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps= dispatch =>{\r\n    const logActions={\r\n        logIn:userObj=>dispatch(logIn(userObj)),\r\n        logOut:()=>dispatch(logOut())\r\n    }\r\n    return logActions;\r\n}\r\n\r\nconst login=connect(mapStateToProps , mapDispatchToProps)(Login);\r\n\r\nexport default login;\r\n","import React, { Component } from 'react';\r\nimport {Col,Button, FormFeedback, Input,InputGroupAddon, InputGroup,Jumbotron,ButtonGroup} from 'reactstrap';\r\nimport { BrowserRouter as Redirect, Link } from \"react-router-dom\";\r\n\r\n\r\nclass Register extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={username:\"\",\r\n                    password:\"\",\r\n                    firstName:\"\",\r\n                    lastName:\"\",\r\n                    msg:\"\",\r\n                    registered:false,\r\n                };\r\n        this.getChangedValue=this.getChangedValue.bind(this);\r\n        this.register=this.register.bind(this);\r\n        this.validiateUsername=this.validiateUsername.bind(this);\r\n    }\r\n\r\n    getChangedValue(event){\r\n        this.setState({[event.target.name]:event.target.value});\r\n    }\r\n\r\n    register(){\r\n        fetch('http://localhost:3000/register',{\r\n            method:'POST',\r\n            headers:{\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'},\r\n            body:JSON.stringify({...this.state})\r\n        }).then(data=>data.json())\r\n        .then(registered=>{\r\n            console.log(registered);\r\n            this.setState({...this.state, registered:true})    //When User registered\r\n        }).catch(err=>err);\r\n    }\r\n\r\n    validiateUsername(){\r\n        fetch('http://localhost:3000/checkexist',{\r\n            method:'POST',\r\n            headers:{ 'Accept': 'application/json',\r\n                'Content-Type': 'application/json'},\r\n            body:JSON.stringify({username:this.state.username})})\r\n            .then(data=>data.json()).then(found =>{\r\n                if(Object.keys(found).length){\r\n                    this.setState({...this.state, msg : \"Taken Username\"});\r\n                }else\r\n                    this.setState({...this.state, msg : \"\"});\r\n            }).catch(err=>err);\r\n    }\r\n\r\n  render() {\r\n    return (\r\n        <Col sm=\"12\" md={{ size: 6, offset: 3 }} >\r\n        {   this.state.registered && <Redirect to=\"/login\"/>}\r\n            <Jumbotron>\r\n                <h1 className=\"text-center\">Register</h1>\r\n                <br/>\r\n                <InputGroup>\r\n                    <InputGroupAddon addonType=\"prepend\">First Name </InputGroupAddon>\r\n                    <Input type=\"text\" name=\"firstName\" value={this.state.firstName} placeholder=\"First Name\" onChange={this.getChangedValue}/>\r\n                </InputGroup>\r\n                <br/>\r\n                <InputGroup>\r\n                    <InputGroupAddon addonType=\"prepend\">Last Name </InputGroupAddon>\r\n                    <Input type=\"text\" name=\"lastName\" value={this.state.lastName} placeholder=\"Last Name\" onChange={this.getChangedValue}/>\r\n                </InputGroup>\r\n                <br/>\r\n                <InputGroup>\r\n                    <InputGroupAddon addonType=\"prepend\">Username </InputGroupAddon>\r\n                    <Input invalid={this.state.msg != \"\"}\r\n                     type=\"text\" name=\"username\" value={this.state.username} placeholder=\"Username\" onChange={this.getChangedValue} onBlur={this.validiateUsername}/>\r\n                    { this.state.msg !=\"\" ? <FormFeedback tooltip>{this.state.msg}</FormFeedback> : null }\r\n                </InputGroup>\r\n                <br/>\r\n                <InputGroup>\r\n                    <InputGroupAddon addonType=\"prepend\">Password </InputGroupAddon>\r\n                    <Input type=\"password\" name=\"password\" value={this.state.password} placeholder=\"Password\" onChange={this.getChangedValue}/>\r\n                </InputGroup>\r\n                <br/>\r\n                    <Button color=\"primary\" onClick={this.register} className=\"float-right\" disabled={this.state.msg != \"\"}>Register</Button>\r\n                    <Link to=\"/login\"> Back </Link>\r\n            </Jumbotron>\r\n        </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import React, { Component } from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button,\r\n     Col, Row, Input,Alert } from 'reactstrap';\r\n\r\nclass EditModal extends Component {\r\n\r\n    // the modal will open, form to Edit the specific Vacation\r\n    constructor(props){\r\n        super(props);\r\n        this.state={ \r\n            destination:\"\", \r\n            description:\"\",\r\n            startDate:\"\",\r\n            endDate:\"\",\r\n            cost:0,\r\n            img:\"\",\r\n            validForm:true,\r\n            errorMsg:\"\"\r\n        }\r\n        this.getChangedValue=this.getChangedValue.bind(this);\r\n        this.sendNewVacation= this.sendNewVacation.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setState(this.props.vacation);\r\n    }\r\n\r\n    getChangedValue(event){\r\n        this.setState({[event.target.name]:event.target.value});\r\n    }\r\n\r\n    validateForm(){\r\n        let errors=[];\r\n        if(this.state.description === \"\" || typeof this.state.description === \"undefined\")\r\n            errors.push(`Missing Description`);\r\n        if(this.state.destination === \"\" || typeof this.state.destination === \"undefined\")\r\n            errors.push(`Missing Destination`);\r\n        if(this.state.startDate === \"\" || typeof this.state.startDate === \"undefined\")\r\n            errors.push(`Missing Start Date`);\r\n        if(this.state.endDate === \"\" || typeof this.state.endDate === \"undefined\")\r\n            errors.push(`Missing End Date`);\r\n        if(this.state.cost === 0 || this.state.cost.length>9)\r\n            errors.push(`Invalid Cost`);\r\n        \r\n            if(errors.length > 0){\r\n                this.setState({...this.state, validForm:false, errorMsg:errors.join(' , ')})            \r\n            }\r\n            else{\r\n                this.setState({...this.state, validForm:true})  \r\n            }\r\n    }\r\n\r\n    async sendNewVacation(){\r\n        await this.validateForm();\r\n        let newState= {...this.state};\r\n        delete newState.validForm;\r\n        delete newState.errorMsg;\r\n        if(this.state.validForm)\r\n            await this.props.edit(newState);\r\n    }\r\n    \r\n    cutDateInfo(date){  //return 10 first digits\r\n        if(date.length>10)\r\n          return date.substring(0,9); \r\n        else \r\n          return date ; \r\n      }\r\n\r\n  render() {\r\n      const vac=this.props.vacation;\r\n    return (\r\n        <Modal isOpen={this.props.modal} toggle={this.props.toggle} >\r\n            <ModalHeader >Edit Vacation</ModalHeader>\r\n        <ModalBody>\r\n        {   !this.state.validForm  ? \r\n                <Alert color=\"danger\" id=\"error\">\r\n                <h4 className=\"alert-heading\" >Not Valid</h4>\r\n                {this.state.errorMsg}</Alert> \r\n        : null }\r\n\r\n        <div className=\"container\"> \r\n            {/* The Form to edit Vacation */}\r\n            <Row ><Col md={12}>\r\n                <Input placeholder=\"destination\" value={this.state.destination} type=\"text\" name=\"destination\" onChange={this.getChangedValue} required/>\r\n                </Col></Row><br/>\r\n                <Row><Col md={12}>\r\n                <Input placeholder=\"description\" value={this.state.description} type=\"text\" name=\"description\" onChange={this.getChangedValue} required/>\r\n                </Col></Row><br/>\r\n            <Row >\r\n            <Col md={6}>\r\n                    From<Input placeholder=\"startDate\" value={this.state.startDate} type=\"date\" name=\"startDate\" onChange={this.getChangedValue} required/>\r\n                </Col>\r\n                <Col md={6}>\r\n                    To<Input placeholder=\"endDate\" value={this.state.endDate} type=\"date\" name=\"endDate\" onChange={this.getChangedValue} required/>\r\n                </Col>\r\n            </Row> <br/>\r\n            <Row >\r\n            <Col md={9}>\r\n                    <Input placeholder=\"Cost\" value={this.state.cost} type=\"number\" name=\"cost\" onChange={this.getChangedValue} required/>\r\n            </Col>\r\n            </Row><br/>\r\n            <Row ><Col md={12}>\r\n                <Input placeholder=\"Image Url\" value={this.state.img} type=\"text\" name=\"img\" onChange={this.getChangedValue} required/>\r\n            </Col></Row>\r\n        </div>\r\n\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"danger\" onClick={this.sendNewVacation}>Update </Button>\r\n          <Button color=\"secondary\" onClick={this.props.toggle}>Cancel</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditModal;","import React, { Component } from 'react';\r\nimport  EditModal from './EditModal';\r\nimport './VacationRow.css';\r\n\r\nclass VacationRow extends Component {\r\n\r\n  constructor(props){\r\n      super(props);\r\n      this.state = { modal: false };\r\n      this.deleteVacation=this.deleteVacation.bind(this);\r\n      this.updateVacation=this.updateVacation.bind(this);\r\n      this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  deleteVacation(){\r\n    this.props.delete(this.props.vacation.id);\r\n  }\r\n\r\n  updateVacation(newVacationObj){\r\n    this.setState({...this.state, modal:true});\r\n    this.props.update(this.props.vacation.id, newVacationObj);\r\n    this.toggle();\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      modal: !this.state.modal\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const vac=this.props.vacation;\r\n    return (\r\n      <tr>\r\n        <th scope=\"row\">{this.props.index+1}</th>\r\n        <td>{vac.destination}</td>\r\n        <td>{vac.description}</td>\r\n        <td className=\"imgUrl\">{vac.img}</td>\r\n        <td>{vac.startDate}</td>\r\n        <td>{vac.endDate}</td>\r\n        <td>${vac.cost}</td> \r\n        <td>\r\n          <i onClick={this.toggle} className='fas fa-pen-fancy' style={{fontSize:'24px',color:'red'}}></i> \r\n          <i onClick={this.deleteVacation} className='fas fa-trash-alt' style={{fontSize:'24px'}}></i>\r\n        </td> \r\n        <EditModal edit={this.updateVacation} vacation={this.props.vacation} modal={this.state.modal} toggle={this.toggle} />\r\n    </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VacationRow;","import React, { Component } from 'react';\r\nimport {Collapse ,Navbar ,NavbarToggler ,NavbarBrand ,Nav ,NavItem ,NavLink, Button} from 'reactstrap';\r\n import { connect } from 'react-redux';\r\nimport { logOut } from '../redux/actions';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Header extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.logout=this.logout.bind(this);\r\n  }\r\n\r\n  logout(){\r\n    this.props.loggingOut(); // From Vacation Comp\r\n    this.props.logOut();    // From Redux Actions\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar color={this.props.currentUser.isAdmin ? \"dark\":\"light\"} light expand=\"sm\">\r\n         \r\n          <NavbarBrand style={this.props.currentUser.isAdmin ? {color:\"blue\"} : {color:\"black\"}}> Vacations </NavbarBrand>\r\n          <NavbarToggler /> \r\n          <Collapse navbar>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <NavItem>\r\n              <NavLink style={this.props.currentUser.isAdmin ? {color:\"blue\"} : {color:\"black\"}}>Hello {this.props.currentUser.firstName}</NavLink>\r\n              </NavItem>\r\n              <NavItem>\r\n                <Button type=\"button\" color=\"link\" onClick={this.logout}>Log Out</Button>\r\n              </NavItem>\r\n              {\r\n                  this.props.currentUser.isAdmin ?\r\n                  <NavItem>\r\n                    <Button color=\"link\" onClick={this.props.toggle}>Add New Vacation</Button>  \r\n                    <Button color=\"link\" ><Link to=\"/admin/statistics\" >To Stats</Link></Button>\r\n                  </NavItem>\r\n                  : null\r\n              }\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps= dispatch =>{\r\n  const logOutAction={\r\n      logOut:()=> dispatch( logOut() )\r\n  }\r\n  return logOutAction;\r\n}\r\n\r\nconst header=connect(null , mapDispatchToProps)(Header);\r\n\r\n\r\nexport default header;\r\n","import React, { Component } from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button,\r\n     Col, Row, Input,Alert } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { addVacation } from '../../redux/actions';\r\n\r\n\r\nclass AddModal extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={ \r\n            destination:\"\", \r\n            description:\"\",\r\n            startDate:\"\",\r\n            endDate:\"\",\r\n            cost:0,\r\n            img:\"\",\r\n            errorMsg:\"\",\r\n            validForm:true\r\n        }\r\n        this.getChangedValue=this.getChangedValue.bind(this);\r\n        this.addAVacation= this.addAVacation.bind(this);\r\n    }\r\n\r\n    getChangedValue(event){\r\n        this.setState({[event.target.name]:event.target.value});\r\n    }\r\n\r\n    validateForm(){\r\n        let errors=[];\r\n        if(this.state.description === \"\" || typeof this.state.description === \"undefined\")\r\n            errors.push(`Missing Description`);\r\n        if(this.state.destination === \"\" || typeof this.state.destination === \"undefined\")\r\n            errors.push(`Missing Destination`);\r\n        if(this.state.startDate === \"\" || typeof this.state.startDate === \"undefined\")\r\n            errors.push(`Missing Start Date`);\r\n        if(this.state.endDate === \"\" || typeof this.state.endDate === \"undefined\")\r\n            errors.push(`Missing End Date`);\r\n        if(this.state.cost === 0 || this.state.cost.length>9)\r\n            errors.push(`Invalid Cost`);\r\n        \r\n            if(errors.length > 0){\r\n                this.setState({...this.state, validForm:false, errorMsg:errors.join(' , ')})            \r\n            }\r\n            else{\r\n                this.setState({...this.state, validForm:true})  \r\n            }\r\n    }\r\n\r\n    async addAVacation(){      \r\n        await this.validateForm();\r\n        let newState= {...this.state};\r\n        delete newState.errorMsg;\r\n        delete newState.validForm;\r\n        if(this.state.validForm){\r\n            await fetch('http://localhost:3000/admin',{\r\n                method:'POST',\r\n                headers:{   'Accept': 'application/json',\r\n                            'Content-Type': 'application/json'},\r\n                body:JSON.stringify(newState)\r\n            }).then(data=>data.json()).then(added=>{                \r\n                this.props.addVacation(added);\r\n                this.props.toggle();\r\n            }).catch(err=>err);\r\n        }\r\n            \r\n}\r\n\r\n    // the modal will open, form to add Vacation\r\n  render() {\r\n    return (\r\n        <Modal isOpen={this.props.modal} toggle={this.props.toggle} >\r\n            <ModalHeader >Add Vacation</ModalHeader>\r\n        <ModalBody>\r\n        {   !this.state.validForm  ? \r\n                <Alert color=\"danger\" id=\"error\">\r\n                <h4 className=\"alert-heading\" >Not Valid</h4>\r\n                {this.state.errorMsg}</Alert> \r\n        : null }\r\n        \r\n        <div className=\"container\"> \r\n            {/* The Form to add Vacation */}\r\n            <Row ><Col md={12}>\r\n                <Input placeholder=\"Destination\" onChange={this.getChangedValue} name=\"destination\" required/>\r\n                </Col></Row><br/>\r\n                <Row><Col md={12}>\r\n                <Input placeholder=\"Description\" name=\"description\" onChange={this.getChangedValue} required/>\r\n                </Col></Row><br/>\r\n            <Row >\r\n            <Col md={6}>\r\n                    From<Input placeholder=\"Start Date\" type=\"date\" name=\"startDate\" onChange={this.getChangedValue} required/>\r\n                </Col>\r\n                <Col md={6}>\r\n                    To<Input placeholder=\"End Date\" type=\"date\" name=\"endDate\" onChange={this.getChangedValue} required/>\r\n                </Col>\r\n            </Row> <br/>\r\n            <Row >\r\n            <Col md={9}>\r\n                    <Input placeholder=\"Cost\" type=\"number\" name=\"cost\" onChange={this.getChangedValue} required/>\r\n            </Col>\r\n            </Row><br/>\r\n            <Row ><Col md={12}>\r\n                <Input placeholder=\"Img URL\" type=\"text\" name=\"img\" onChange={this.getChangedValue}/>\r\n            </Col></Row>\r\n        </div>\r\n\r\n\r\n\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={this.addAVacation}>Add </Button>\r\n          <Button color=\"secondary\" onClick={this.props.toggle}>Cancel</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps= dispatch =>{\r\n    const addAction={\r\n        addVacation:userObj=>dispatch(addVacation(userObj))\r\n    }\r\n    return addAction;\r\n}\r\n\r\nconst addModal=connect(null , mapDispatchToProps)(AddModal);\r\n\r\nexport default addModal;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table } from \"reactstrap\";\r\nimport VacationRow from \"./VacationRow\";\r\nimport Header from \"../Header\";\r\nimport AddModal from \"./AddModal\";\r\nimport { setVacations } from \"../../redux/actions\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport openSocket from 'socket.io-client';\r\nimport history from '../common/Main';\r\nconst socket= openSocket('http://localhost:3008');\r\n\r\n\r\n\r\nvar that;\r\nclass Admin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { modal: false, toStats:false ,logged:true};\r\n    this.toggle = this.toggle.bind(this);\r\n    this.delete = this.delete.bind(this);\r\n    this.update = this.update.bind(this);\r\n    this.getVacations= this.getVacations.bind(this);\r\n    that=this;\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      modal: !this.state.modal\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getVacations();\r\n    socket.on('UPDATE_VACATIONS', ()=>{ \r\n      this.getVacations()});\r\n  }\r\n  \r\n  getVacations() {\r\n    if (this.props.currentUser.firstName != \"\") {\r\n      fetch(\"http://localhost:3000/admin\", {\r\n        method: \"GET\"\r\n      }).then(response => response.json()).then(data => {\r\n          //The array of all the vactions\r\n          this.props.setVacations(this.setVacationsDates(data));\r\n          }).catch(err => err);\r\n    }\r\n  }\r\n\r\n  // Delete and Update pass to every row. after clicking the icons,\r\n  // will render the all vacations\r\n  delete(specVacationID) {\r\n    fetch(`http://localhost:3000/admin/${specVacationID}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    }).then(data => {\r\n        //When deleting vacation from admin\r\n        //Socket in the Server Side\r\n        if(window.confirm(\"Are you sure you want to Delete this Vacation ?\")){\r\n          this.getVacations();\r\n      }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  update(specVacationID,newVacObj) {\r\n    fetch(`http://localhost:3000/admin/${specVacationID}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"},\r\n        body:JSON.stringify(newVacObj)\r\n    }).then(data => {\r\n        //When updating vacation from admin\r\n        //add socket.io\r\n        this.getVacations();\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  drawControllTable(vacations) {\r\n      if ( vacations.length != 0) {\r\n        return vacations.map((vacation,key)=> (\r\n            <VacationRow vacation={vacation} index={key} key={key}\r\n            delete={this.delete} update={this.update}\r\n            onClick={this.getVacation}/>)\r\n    )}\r\n  }\r\n\r\n  setLogged(){\r\n    // the header COmponent will change this.logged and redirect to login\r\n    fetch('http://localhost:3000/logout',{method: \"GET\" })\r\n    .then(response => response.json()).then(data=>{\r\n        this.setState({...this.state, logged:false});\r\n    }).catch(err=>err);\r\n    // this.props.history.push(\"/login\");\r\n  }\r\n  \r\n  setVacationsDates(vacationArr){\r\n    for(let i=0; i<vacationArr.length;i++)\r\n    {\r\n      vacationArr[i].startDate=this.cutDateInfo(vacationArr[i].startDate);\r\n      vacationArr[i].endDate=this.cutDateInfo(vacationArr[i].endDate);\r\n    }\r\n    return vacationArr;\r\n  }\r\n  cutDateInfo(date){  //return 10 first digits\r\n    if(date.length > 10)\r\n      return date.substring(0,10); \r\n    else \r\n      return date; \r\n  }\r\n  moveToStats(){\r\n    this.setState({...this.state, toStats:true});\r\n  }\r\n\r\n  render() {\r\n    // The admin page will include a table of vacations, each row represent vacation\r\n    // with buttons to edit and remove\r\n    return (\r\n      <div className=\"table-responsive\">\r\n        { this.state.toStats && <Redirect to='/admin/statistic' />}\r\n        {!this.state.logged && <Redirect to='/login'/>}\r\n        <Header currentUser={this.props.currentUser} toggle={this.toggle}\r\n         loggingOut={this.setLogged.bind(this)} stats={this.moveToStats.bind(this)}/>\r\n        <br />\r\n        <Table className=\"table table-dark table-striped \">\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Destination</th>\r\n              <th>Description</th>\r\n              <th className=\"imgUrl\">Image Url</th>\r\n              <th>Start Date</th>\r\n              <th>End Date</th>\r\n              <th>Cost</th>\r\n              <th>More</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n            this.drawControllTable(this.props.allVacations)\r\n            }\r\n          </tbody>\r\n        </Table>\r\n        {/* <AddModal modal={this.state.modal} toggle={this.toggle} syncVacations={this.getVacations}/> */}\r\n        <AddModal modal={this.state.modal} toggle={this.toggle} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { allVacations: state.allVacations, currentUser: state.currentUser };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  const getVacationsAction = {\r\n    setVacations: vacation => dispatch(setVacations(vacation))\r\n  };\r\n  return getVacationsAction;\r\n};\r\n\r\nconst admin = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Admin);\r\n\r\nexport default admin;\r\n","import React, { Component } from 'react';\r\nimport { Card, CardText, CardBody,\r\n    CardHeader, CardSubtitle ,CardTitle,Badge,CardFooter } from 'reactstrap';\r\nimport FollowBtn from './FollowBtn';\r\n\r\nclass Vacation extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state={followd:false};\r\n    this.followClicked= this.followClicked.bind(this);\r\n  }\r\n\r\n  followClicked(){\r\n    this.setState(  {followd: !this.state.followd}   );\r\n  }\r\n\r\n  // card of a vacation, will appear like this in user page only\r\n  render() {\r\n    const vac= this.props.vacation ;\r\n    const unvac = this.props.unvacation;\r\n\r\n    return (\r\n      <div className=\"col-sm-4 mt-4\">\r\n      \r\n        <Card id={vac && vac.id || unvac && unvac.id}>\r\n            <CardHeader className=\"text-center\">{vac && vac.destination}{unvac && unvac.destination} </CardHeader> \r\n            <img width=\"100%\" height=\"80px\" src={(vac && vac.img) || (unvac && unvac.img)} alt=\"Vacation \" />\r\n            <CardBody >\r\n                <CardText><b>Dates :</b> {(vac && vac.startDate) || (unvac && unvac.startDate)}  <b>To</b>  {(vac && vac.endDate) || (unvac && unvac.endDate)}</CardText>\r\n                <br/>\r\n                <CardText>{(vac && vac.description )|| (unvac && unvac.description)}</CardText>\r\n                <CardText><b>Cost:</b> ${vac && vac.cost || (unvac && unvac.cost)}</CardText>\r\n                <h5 ><Badge style={{width:\"80%\"}} color=\"info\" >Current Followers : {(vac && vac.following) || (unvac && unvac.following)}</Badge></h5>\r\n            </CardBody>\r\n            <CardFooter className=\"text-center\"> \r\n              <FollowBtn followedArr={this.props.followedArr} \r\n                isFollowed={this.props.isFollowed ? true : false} />\r\n            </CardFooter>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Vacation;","import React, { Component } from \"react\";\r\nimport Login from \"../Login\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport createBrowserHistory from 'history/createBrowserHistory';\r\nimport Register from \"../Register\";\r\nimport Admin from \"../admin/Admin\";\r\nimport Vacations from \"../Vacations\";\r\nimport Statistic from \"../admin/Statistic\";\r\nexport const history= createBrowserHistory();\r\n\r\nclass Main extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Router history={history}>\r\n          <div>\r\n            <Switch>\r\n              <Route path=\"/login\" component={Login} />\r\n              <Route path=\"/register\" component={Register} />\r\n              <Route exact path=\"/admin/statistics\" component={Statistic} />\r\n              <Route path=\"/admin\" component={Admin} />\r\n              <Route path=\"/vacations\" component={Vacations} />\r\n              <Route exact path=\"\" component={Login} />\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React, { Component } from 'react';\nimport Main from './components/common/Main';\n\n\n\nclass App extends Component {\n  render() {\n    return (\n        <Main/>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState={\r\n    allVacations:[],\r\n    currentUser:{ \r\n        firstName:\"\",\r\n         lastName:\"\",\r\n         id:\"\",\r\n         followedVacations:[],\r\n         isAdmin:false\r\n        }\r\n};\r\n\r\nconst vacationReducer=(state = initialState , action)=>{\r\n\r\n    let newState;\r\n    switch (action.type){\r\n        case \"LOGIN\":\r\n            /* {type:\"LOGIN\",data:userObj}*/\r\n            newState=Object.assign({},state);\r\n            newState.currentUser= action.data;\r\n            return newState;\r\n            \r\n        case \"LOGOUT\":\r\n        // {type:\"LOGOUT\"}\r\n            newState=Object.assign({},state);\r\n            newState.currentUser=initialState.currentUser;\r\n            return newState;\r\n\r\n        case \"ADD\":\r\n            // {type:\"ADD\",data:vacObj}\r\n            newState= {...state};\r\n            newState.allVacations.push(action.data);\r\n            return newState;\r\n\r\n        case \"DELETE\":\r\n            // {type:\"DELETE\",data:id}\r\n            newState= {...state};\r\n            newState.allVacations.splice(action.data,1);\r\n            return newState;\r\n\r\n        case \"EDIT\":\r\n            // {type:\"EDIT\",data:newVacObj}\r\n            newState= {...state};\r\n            newState.allVacations.forEach(vacay=>{\r\n                if(vacay.id==action.data.newVacObj.id)\r\n                    vacay=action.data.newVacObj;\r\n            })\r\n            return newState; \r\n\r\n        case \"SET\":\r\n            // {type:\"SET\",data:vacationsArray}\r\n            newState= {...state};\r\n            newState.allVacations=action.data;\r\n            return newState;\r\n\r\n        case \"FOLLOW\":\r\n            newState= {...state};\r\n            newState.currentUser.followedVacations.push(action.data);\r\n            return newState;\r\n\r\n        case \"UNFOLLOW\":\r\n            newState= {...state};\r\n            newState.currentUser.followedVacations.splice(action.data, 1);\r\n            return newState;\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default vacationReducer;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport vacationReducer from \"./redux/reducer\";\n\nconst store = createStore(vacationReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n// ReactDOM.render(<App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}